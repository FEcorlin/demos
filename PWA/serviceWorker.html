<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<a href="offline.html">offline.html</a>
<script>
    const version = '1.0.3';

    if('serviceWorker' in navigator){
        navigator.serviceWorker
                .register('/example/sw.js?v=1',{scope:'/example/'})
                .then(registration =>{
                    if (localStorage.getItem('sw_version') !== version) {
                        registration.update().then(() => localStorage.setItem('sw_version', version));
                    }
                    console.log('ServiceWorker 注册成功！作用域为: ', registration.scope);
                })
                .catch(err=>console.log('ServiceWorker 注册失败：' + err));
    }
</script>

</body>
</html>